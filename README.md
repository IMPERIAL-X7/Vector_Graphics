# Vector Graphics Editor

A lightweight, C++ based vector graphics editor built using the **Qt6** framework. This application allows users to draw, manipulate, and save vector shapes in **SVG** format, featuring a robust undo/redo system and object serialization.

## Features

### Drawing Tools
* **Basic Shapes**: Circle, Rectangle, Rounded Rectangle, Hexagon.
* **Lines & Path**: Straight Line and **Freehand** drawing.
* **Text**: Text box support with input dialogs.

### Styling & Editing
* **Color Control**: Independent Stroke and Fill color selection with **Alpha/Opacity** support.
* **Stroke Width**: Adjustable line thickness.
* **Manipulation**:
    * **Move**: Drag and drop shapes.
    * **Resize**: Dynamic resizing of shapes via mouse interaction.
* **Clipboard**: Cut, Copy, and Paste shapes.
* **History**: Full **Undo/Redo** functionality (intensional limit of 20 steps, to minimize memory cost).

### File Operations
* **SVG Support**: Native Save and Load support for the SVG file format.
* **Parsing**: Custom XML parser to read vector data.

###  Keyboard Shortcuts
| Action | Shortcut |
| :--- | :--- |
| **New File** | `Ctrl + N` |
| **Open** | `Ctrl + O` |
| **Save** | `Ctrl + S` |
| **Undo** | `Ctrl + Z` |
| **Redo** | `Ctrl + Shift + Z` |
| **Cut/Copy/Paste** | `Ctrl + X`, `C`, `V` |
| **Close** | `Ctrl + W` |

---

## Build & Run

### Prerequisites
* **CMake** (Version 3.16+)
* **Qt6** (Widgets module)
* C++ Compiler supporting C++17

### Installation

```bash
#1. Open VectorGraphics folder
cd VectorGraphics

# 2. Create build directory
cmake -S . -B build

# 3. Configure and Build
cmake --build build

# 4. Run
./build/VectorGraphics
```

## Architecture

The project follows a modular Object-Oriented design separating Core logic, UI, and IO operations.

```
src/
├── main.cpp                    # Application Entry Point
├── core/
│   ├── Command.cpp             # Undo/Redo stack logic
│   ├── Diagram.cpp             # Container for managing all objects
│   ├── GraphicsObject.cpp      # Abstract base class for shapes
│   └── ShapeMaker.cpp          # Factory for creating shapes
├── io/
│   ├── SVGWriter.cpp           # Serializes Diagram to SVG file
│   └── XMLParser.cpp           # Parses SVG file to Diagram
├── shapes/                     # Concrete Shape Implementations
│   ├── Circle.cpp
│   ├── Rect.cpp
│   ├── RoundRect.cpp
│   ├── Hexagon.cpp
│   ├── Line.cpp
│   ├── Text.cpp
│   └── Freehand.cpp
└── ui/
    ├── MainWindow.cpp          # Main UI setup (Toolbar, Menus)
    ├── Canvas.cpp              # Drawing surface & Painting logic
    ├── ToolBar.cpp             # Configures toolbar
    └── Mouse.cpp               # Mouse Event Handling (Logic split)
```

## Key Components

| Component | Role |
| :--- | :--- |
| **MainWindow** | The top-level window managing the Canvas, Toolbars, and Menus. Sets up the "Dark/Fusion" theme. |
| **Canvas** | A QWidget subclass where all drawing occurs. Handles paintEvent and mouse interactions (Press, Move, Release). |
| **Diagram** | The Data Model. Holds a vector of GraphicsObject pointers. |
| **Command** | Implements the Command Pattern. Manages undo_stack and redo_stack for operations (Add, Delete, Move). |
| **GraphicsObject** | The abstract base class using polymorphism. Defines the interface (draw, toSVG, clone) for all shapes. |

## Design Patterns

1.  **Polymorphism**: `GraphicsObject` is an abstract base class. The Diagram stores a list of `GraphicsObject*`, allowing Canvas to iterate and call `draw()` on mixed shapes without knowing their concrete types.

2.  **Factory Pattern**: `ShapeMaker::create(...)` acts as a static factory, encapsulating the logic of instantiating specific shape classes based on the selected `Tool` enum.

3.  **Command Pattern**: The `Command` class encapsulates requests (Add, Delete, Move) as objects, allowing the application to parameterize, queue, and reverse operations via `undo()` and `redo()`.

4.  **Observer Pattern (Lite)**: Canvas updates the view (`update()`) whenever the Diagram or Command state changes, ensuring the UI reflects the data.

## File Format (SVG)

The application saves files as standard SVG. Example output generated by SVGWriter:
```xml
<svg width="600" height="400" >
<circle
stroke="#ff000000" stroke-width="3" fill="#ffff7800"
cx="368" cy="221.5" r="59" />
<circle
stroke="#ff000000" stroke-width="3" fill="#ffff7800"
cx="205" cy="196" r="8" />
<rect
stroke="#ff000000" stroke-width="3" fill="#ffff7800"
x="143.478" y="63.2743" width="321.044" height="106.451" />
<freehand
stroke="#ff000000" stroke-width="3" fill="none"
points="136,140 140,148 145,157 ..." />
<freehand
stroke="#ff000000" stroke-width="3" fill="none"
points="129,109 124,113 119,118 ..." />
<hexagon
stroke="#ff000000" stroke-width="3" fill="#ffff7800"
x="66" y="26.5" width="158" />
<line
stroke="#ff000000" stroke-width="3" fill="#ffff7800"
x1="418" y1="31" x2="129" y2="179" />
<text
stroke="#ff000000" stroke-width="3" fill="#ffff7800"
x="271" y="166" width="369" height="290" content="he" />
<text
stroke="#ff000000" stroke-width="3" fill="#ffff7800"
x="135" y="297" width="26" height="25" content="hh" />
</svg>
```
